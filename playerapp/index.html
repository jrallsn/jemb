<html>
<head>
  <meta charset="utf-8" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.js"></script>

  <style>
    body {
      background: black;
    }
    #x {
      width: 100%;
      height: 100%;
      padding: 50px;
      border: 50px solid gray;
      margin: 0; 
    }
    #question {
      font-size: 96px;
      color: white;
    }
    #answerForm {
      font-size: 48px;
    }
  </style>

</head>
<body>
  <script type="text/javascript">
    
    var ws = new WebSocket("wss://echo.websocket.org");
  
    ws.onopen = function(evt) { onOpen(evt) };
    ws.onclose = function(evt) { onClose(evt) };
    ws.onmessage = function(evt) { onMessage(evt) };
    ws.onerror = function(evt) { onError(evt) };

    ws.onopen = function(event) {
      console.log('opened socket');
      onOpen(event);
    };

    function onOpen(evt) {
      /* var message = {
        action: 'joinSurveySubject'
      }
      */
      var message = {
        state: 'ask',
        remainingTime: 5,
        prompt: 'What do you put on your feet?'
      };
      ws.send(JSON.stringify(message));
    }

    ws.onmessage = function(event){
      console.log(JSON.stringify(event.data));
      var data = JSON.parse(event.data);
      if (data.prompt) {
        var html = '';
        html = '<p>' + data.prompt + '</p>';
        document.getElementById('question').innerHTML = html;
      }
    };

    function submitAnswer() {
      alert('argh');
    }

    $('form').form({
        on: 'blur',
        fields: {
            name: {
                identifier: 'answer',
                rules: [{
                    type: 'empty',
                    prompt: 'Please enter a value'
                }]
            }
        }
    });

  </script>
  <div class="container" id="x">
    <div class="ui grid page">
      <div class="sixteen wide column">
        <div id="question"></div>
      </div>
      <div class="sixteen wide column">
        <div id="answerForm">
          <form class="ui form">
            <div class="field">
              <input placeholder="Your answer..." name="answer" id="answer" type="text">
            </div>
            <div class="massive ui left floated orange reset button"
                 id="clearBtn"
                 onClick="document.getElementById('answer').value = ''">Clear</div>
            <div class="massive ui right floated teal submit button">Submit</div>
            <div class="ui error message"></div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
</body>
</html>